
##TODO

用脚本按关卡加载地图和对应资源
增加角色面相属性
面相属性触发

角色触发区域
事件触发区域

背景音乐播放
声效播放
环境音切换触发

NPC角色转向
英雄障碍物前按键后，原地转向

##游戏组成

###地图属性

出口
入口
角色生成点

宝箱生成点
战斗生成点
npc生成点
事件触发点

###NPC参数

生命状态：脚本加载，脚本遍历执行，脚本暂停
自身游戏状态：战斗，巡逻，角色动画，
AI状态：非活跃状态，活跃状态
动画状态：朝向
TextBox属性：Dialog大头像

###NPC脚本逻辑

####AI状态维护
####暂停
####触发


###战斗部分

####战斗初始化参数

敌对NPC生成

####战斗AI

逃跑，战斗，死亡，掉落

####战斗结果

经验 金钱 物品 任务




###背包

物品种类
物品个数


###游戏任务状态

####全局任务状态
等级

####局部任务状态
是否进入过地图
是否完成任务
是否

###任务
初始条件
任务进度
任务报酬

###游戏事件系统

触发事件条件：任务完成，物品，地图触发
剧情推进：
产生任务：

###天气系统
当前地图天气状态记录


###时间系统

白天
晚上

###经济系统

武器商店
防具商店
消耗品商店

###地图切换操作
地图加载
天气层重置
聊天层重置

角色定位
NPC生成定位
环境效果设置：背景音乐，环境音效，
预设天气设置：天气音效，天气动画层显示


###图层定义

10  touchLayer
5   hudLayer
4   envLayer
0   hero
-1  mapLayer


###显示隐藏操作

NPC显示隐藏
宝箱显示隐藏

地图出口显示隐藏


